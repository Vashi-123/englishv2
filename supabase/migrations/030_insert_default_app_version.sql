-- Вставка начальной версии приложения в таблицу app_versions
-- Это предотвращает ошибку 406 при запросе версии, когда таблица пуста

INSERT INTO app_versions (version, min_version, force_update, update_url, message)
VALUES (
  '0.0.0',  -- Текущая версия приложения
  NULL,     -- Минимальная поддерживаемая версия (NULL = нет ограничений)
  false,    -- Принудительное обновление не требуется
  NULL,     -- URL для обновления (можно указать позже)
  NULL      -- Сообщение для пользователя (можно указать позже)
)
ON CONFLICT (version) DO NOTHING;

-- Комментарий для документации
COMMENT ON TABLE app_versions IS 'Информация о версиях приложения для проверки обновлений. Первая запись создается автоматически при миграции.';

